(function(e){function t(t){for(var r,a,o=t[0],s=t[1],u=t[2],p=0,f=[];p<o.length;p++)a=o[p],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);l&&l(t);while(f.length)f.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,o=1;o<n.length;o++){var s=n[o];0!==i[s]&&(r=!1)}r&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={app:0},c=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/TurnBuilderPage/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=s;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0179":function(e,t,n){},"034f":function(e,t,n){"use strict";var r=n("85ec"),i=n.n(r);i.a},"088c":function(e,t,n){"use strict";n.r(t),t["default"]=[{name:"circle",img:n("ed7f")},{name:"cross",img:n("c087")}]},"0b8d":function(e,t,n){},"0f30":function(e,t,n){"use strict";var r=n("3f06"),i=n.n(r);i.a},1328:function(e,t,n){"use strict";var r=n("3f64"),i=n.n(r);i.a},"1b62":function(e,t,n){"use strict";var r=n("d1cf"),i=n.n(r);i.a},"29ec":function(e,t,n){},"2b59":function(e,t,n){"use strict";var r=n("7221"),i=n.n(r);i.a},"325c":function(e,t,n){},"3f06":function(e,t,n){},"3f64":function(e,t,n){},4063:function(e,t,n){},"53a0":function(e,t,n){"use strict";var r=n("5997"),i=n.n(r);i.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" | "),n("router-link",{attrs:{to:"/specify"}},[e._v("Game Specification")]),e._v(" | "),n("router-link",{attrs:{to:"/playtest"}},[e._v("Game Playtesting")])],1),n("router-view",{attrs:{id:"page"}})],1)},c=[],a=(n("034f"),n("2877")),o={},s=Object(a["a"])(o,i,c,!1,null,null,null),u=s.exports,l=n("8c4f"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-specification"},[n("game-spec")],1)},f=[],m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec"},[n("game-spec-player"),n("game-spec-grid"),n("game-spec-game-attr"),n("game-spec-piece-list"),n("game-spec-rule-list")],1)},h=[],d=(n("d3b7"),n("25f0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-player"},[n("h2",[e._v("Player specifications")]),n("game-spec-player-count",{staticClass:"player-count"}),n("h3",[e._v("Player attributes:")]),n("game-spec-attribute-list",{attrs:{attributes:e.playerAttributes},on:{"attribute-name-change":function(t,n){return e.renamePlayerAttribute(t,n)},"attribute-type-change":function(t,n){return e.retypePlayerAttribute(t,n)},"attribute-add-new":e.addPlayerAttribute,"attribute-remove":function(t){return e.removePlayerAttribute(t)}}})],1)}),g=[],b=(n("b0c0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-player-count"},[n("label",{attrs:{for:"playerCount"}},[e._v("Number of players: ")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.playerCount,expression:"playerCount",modifiers:{number:!0}}],attrs:{id:"playerCount",type:"number"},domProps:{value:e.playerCount},on:{input:function(t){t.target.composing||(e.playerCount=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])}),y=[],v={name:"GameSpecPlayerCount",computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),playerCount:{get:function(){return this.$store.state.gameSpec.players.number},set:function(e){this.$store.commit("setPlayerCount",e)}}}},S=v,C=Object(a["a"])(S,b,y,!1,null,"eaffd11c",null),_=C.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-attribute-list"},[n("ul",[e._l(e.attributes,(function(t,r){return n("li",{key:t.name},[n("game-spec-attribute-list-item",{attrs:{attribute:t},on:{"attribute-name-change":function(t){return e.nameChange(r,t)},"attribute-type-change":function(t){return e.typeChange(r,t)},remove:function(t){return e.remove(r)}}})],1)})),n("li",{staticClass:"add-attribute-entry"},[n("button",{on:{click:e.addAttribute}},[e._v("Add new attribute...")])])],2)])},w=[],A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-attribute-list-item  display-row"},[n("span",{staticClass:"keep-whitespace"},[e._v("Attribute ")]),n("input",{staticClass:"attribute-name",attrs:{type:"text",placeholder:"Attribute name",disabled:!e.attribute.isEditable},domProps:{value:e.attribute.name},on:{blur:function(t){return e.nameChange(t.target.value)},keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.target.blur(t)}}}),n("span",{staticClass:"keep-whitespace"},[e._v(" of type ")]),n("v-select",{staticClass:"attribute-type",attrs:{clearable:!1,options:e.AttributeTypes.allValues,value:e.attribute.type,disabled:!e.attribute.isEditable},on:{input:e.typeChange}}),n("button",{staticClass:"remove-button",attrs:{disabled:!e.attribute.isEditable},on:{click:e.removeSelf}},[e._v(" Remove ")])],1)},P=[],E=(n("a9e3"),n("dca8"),n("53ca"));function T(e){var t=[];for(var n in e)n===n.toUpperCase()&&t.push(e[n]);return e.allValues=t,e}var x=Object.freeze(T({NUMBER:"number",TEXT:"text",PLAYER:"player",TILE:"tile",PIECE:"piece",toVuePropType:function(e){switch(e){case this.NUMBER:return Number;case this.TEXT:return String;case this.PLAYER:return Object;case this.TILE:return Object;case this.PIECE:return Object}},fromJavascriptEntity:function(e){switch(Object(E["a"])(e)){case"number":return this.NUMBER;case"string":return this.TEXT;case"object":}return null}})),j=n("4a7a"),G=n.n(j),k={name:"GameSpecAttributeListItem",components:{vSelect:G.a},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),AttributeTypes:function(){return x}},props:{attribute:{type:Object,required:!0}},methods:{nameChange:function(e){this.$emit("attribute-name-change",e)},typeChange:function(e){this.$emit("attribute-type-change",e)},removeSelf:function(){this.$emit("remove")}}},$=k,V=(n("1b62"),Object(a["a"])($,A,P,!1,null,"402df80a",null)),N=V.exports,L={name:"GameSpecAttributeList",components:{GameSpecAttributeListItem:N},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console}))},props:{attributes:{type:Array,required:!0}},methods:{nameChange:function(e,t){this.$emit("attribute-name-change",e,t)},typeChange:function(e,t){this.$emit("attribute-type-change",e,t)},addAttribute:function(){this.$emit("attribute-add-new")},remove:function(e){this.$emit("attribute-remove",e)}}},q=L,I=(n("a8b4"),Object(a["a"])(q,O,w,!1,null,"19daaf3b",null)),R=I.exports,D={name:"GameSpecPlayer",components:{GameSpecPlayerCount:_,GameSpecAttributeList:R},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),playerAttributes:function(){return this.$store.state.gameSpec.players.attributes}},methods:{renamePlayerAttribute:function(e,t){var n=this.playerAttributes[e];this.$store.commit("alterPlayerAttribute",{attributeName:n.name,propertyName:"name",newValue:t})},retypePlayerAttribute:function(e,t){var n=this.playerAttributes[e];this.$store.commit("alterPlayerAttribute",{attributeName:n.name,propertyName:"type",newValue:t})},addPlayerAttribute:function(){this.$store.commit("addPlayerAttribute")},removePlayerAttribute:function(e){var t=this.playerAttributes[e];this.$store.commit("removePlayerAttribute",t.name)}}},F=D,B=(n("e0d3"),Object(a["a"])(F,d,g,!1,null,"3282afba",null)),U=B.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-grid"},[n("h2",[e._v("Grid specifications")]),n("game-spec-grid-dimensions",{staticClass:"grid-dimensions"}),n("h3",[e._v("Grid attributes:")]),n("game-spec-attribute-list",{attrs:{attributes:e.tileAttributes},on:{"attribute-name-change":function(t,n){return e.renameTileAttribute(t,n)},"attribute-type-change":function(t,n){return e.retypeTileAttribute(t,n)},"attribute-add-new":e.addTileAttribute,"attribute-remove":function(t){return e.removeTileAttribute(t)}}})],1)},M=[],W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-grid-dimensions"},[n("h3",[e._v("Grid dimensions:")]),n("label",{attrs:{for:"gridWidth"}},[e._v("Width: ")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.gridWidth,expression:"gridWidth",modifiers:{number:!0}}],attrs:{id:"gridWidth",type:"number"},domProps:{value:e.gridWidth},on:{input:function(t){t.target.composing||(e.gridWidth=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),n("br"),n("label",{attrs:{for:"gridHeight"}},[e._v("Height: ")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.gridHeight,expression:"gridHeight",modifiers:{number:!0}}],attrs:{id:"gridHeight",type:"number"},domProps:{value:e.gridHeight},on:{input:function(t){t.target.composing||(e.gridHeight=e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])},Q=[],Y={name:"GameSpecGridDimensions",computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),gridWidth:{get:function(){return this.$store.state.gameSpec.grid.width},set:function(e){this.$store.commit("setGridWidth",e)}},gridHeight:{get:function(){return this.$store.state.gameSpec.grid.height},set:function(e){this.$store.commit("setGridHeight",e)}}}},X=Y,z=(n("d3d5"),Object(a["a"])(X,W,Q,!1,null,"08b7b62d",null)),K=z.exports,J={name:"GameSpecGrid",components:{GameSpecGridDimensions:K,GameSpecAttributeList:R},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),tileAttributes:function(){return this.$store.state.gameSpec.grid.attributes}},methods:{renameTileAttribute:function(e,t){var n=this.tileAttributes[e];this.$store.commit("alterTileAttribute",{attributeName:n.name,propertyName:"name",newValue:t})},retypeTileAttribute:function(e,t){var n=this.tileAttributes[e];this.$store.commit("alterTileAttribute",{attributeName:n.name,propertyName:"type",newValue:t})},addTileAttribute:function(){this.$store.commit("addTileAttribute")},removeTileAttribute:function(e){var t=this.tileAttributes[e];this.$store.commit("removeTileAttribute",t.name)}}},Z=J,ee=(n("59a0"),Object(a["a"])(Z,H,M,!1,null,"917b04ec",null)),te=ee.exports,ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-game-attr"},[n("h3",[e._v("Game attributes:")]),n("game-spec-attribute-list",{attrs:{attributes:e.gameAttributes},on:{"attribute-name-change":function(t,n){return e.renameGameAttribute(t,n)},"attribute-type-change":function(t,n){return e.retypeGameAttribute(t,n)},"attribute-add-new":e.addGameAttribute,"attribute-remove":function(t){return e.removeGameAttribute(t)}}})],1)},re=[],ie={name:"GameSpecGameAttr",components:{GameSpecAttributeList:R},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),gameAttributes:function(){return this.$store.state.gameSpec.gameAttributes}},methods:{renameGameAttribute:function(e,t){var n=this.gameAttributes[e];this.$store.commit("alterGameAttribute",{attributeName:n.name,propertyName:"name",newValue:t})},retypeGameAttribute:function(e,t){var n=this.gameAttributes[e];this.$store.commit("alterGameAttribute",{attributeName:n.name,propertyName:"type",newValue:t})},addGameAttribute:function(){this.$store.commit("addGameAttribute")},removeGameAttribute:function(e){var t=this.gameAttributes[e];this.$store.commit("removeGameAttribute",t.name)}}},ce=ie,ae=(n("b397"),Object(a["a"])(ce,ne,re,!1,null,"44bf6df8",null)),oe=ae.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-piece-list"},[n("h2",[e._v("Pieces")]),n("ul",[e._l(e.pieces,(function(t,r){return n("li",{key:t.name},[n("game-spec-piece-list-item",{attrs:{piece:t},on:{"piece-name-change":function(t){return e.renamePiece(r,t)},"piece-icon-change":function(t){return e.changePieceIcon(r,t)},remove:function(t){return e.removePiece(r)}}})],1)})),n("li",{staticClass:"add-piece-entry"},[n("button",{on:{click:e.addPiece}},[e._v("Add new piece...")])])],2)])},ue=[],le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-piece-list-item"},[n("div",{staticClass:"piece-presentation  display-row"},[n("v-select",{attrs:{clearable:!1,options:e.pieceList,value:e.currentPiece,label:"name"},on:{input:function(t){return e.iconChange(t.name)}},scopedSlots:e._u([e._l(["option","selected-option"],(function(e){return{key:e,fn:function(t){var r=t.img;return[n("img",{key:e,attrs:{src:r}})]}}}))],null,!0)}),n("input",{attrs:{type:"text",placeholder:"Piece name"},domProps:{value:e.piece.name},on:{blur:function(t){return e.nameChange(t.target.value)},keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.target.blur(t)}}}),n("button",{staticClass:"remove-button",on:{click:e.removeSelf}},[e._v(" Remove ")])],1),n("game-spec-attribute-list",{attrs:{attributes:e.piece.attributes},on:{"attribute-name-change":function(t,n){return e.renamePieceAttribute(t,n)},"attribute-type-change":function(t,n){return e.retypePieceAttribute(t,n)},"attribute-add-new":e.addPieceAttribute,"attribute-remove":function(t){return e.removePieceAttribute(t)}}})],1)},pe=[],fe=(n("7db0"),n("088c")),me={name:"GameSpecPieceListItem",props:{piece:{type:Object,required:!0}},components:{vSelect:G.a,GameSpecAttributeList:R},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),pieceList:function(){return fe["default"]},currentPiece:function(){var e=this;return fe["default"].find((function(t){return t.name+".png"===e.piece.icon}))}},methods:{nameChange:function(e){this.$emit("piece-name-change",e)},iconChange:function(e){this.$emit("piece-icon-change",e+".png")},renamePieceAttribute:function(e,t){var n=this.piece.attributes[e];this.$store.commit("alterPieceAlterAttribute",{pieceName:this.piece.name,attributeName:n.name,propertyName:"name",newValue:t})},retypePieceAttribute:function(e,t){var n=this.piece.attributes[e];this.$store.commit("alterPieceAlterAttribute",{pieceName:this.piece.name,attributeName:n.name,propertyName:"type",newValue:t})},addPieceAttribute:function(){this.$store.commit("alterPieceAddAttribute",this.piece.name)},removePieceAttribute:function(e){var t=this.piece.attributes[e];this.$store.commit("alterPieceRemoveAttribute",{pieceName:this.piece.name,attributeName:t.name})},removeSelf:function(){this.$emit("remove")}}},he=me,de=(n("de19"),Object(a["a"])(he,le,pe,!1,null,"e9e339c0",null)),ge=de.exports,be={name:"GameSpecPieceList",components:{GameSpecPieceListItem:ge},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),pieces:function(){return this.$store.state.gameSpec.pieces}},methods:{addPiece:function(){this.$store.commit("addPiece")},renamePiece:function(e,t){this.$store.commit("alterPieceName",{pieceName:this.pieces[e].name,newName:t})},changePieceIcon:function(e,t){this.$store.commit("alterPieceIcon",{pieceName:this.pieces[e].name,newIcon:t})},removePiece:function(e){this.$store.commit("removePiece",this.pieces[e].name)}}},ye=be,ve=(n("1328"),Object(a["a"])(ye,se,ue,!1,null,"4eb7da9a",null)),Se=ve.exports,Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-rule-list"},[n("h2",[e._v("Game rules:")]),n("ol",[e._l(e.rulesWithKeys,(function(t,r){return n("li",{key:t.key},[n("div",{staticClass:"display-row"},[n("game-spec-rule-list-item",{attrs:{rule:t.rule},on:{"rule-trigger-change":function(t){return e.ruleTriggerChange(r,t)},"rule-effect-change":function(t){return e.ruleEffectChange(r,t)}}}),n("button",{staticClass:"remove-button",on:{click:function(t){return e.removeRule(r)}}},[e._v("Remove")])],1)])})),n("li",{staticClass:"add-rule-entry"},[n("button",{on:{click:e.addRule}},[e._v("Add new rule...")])])],2)])},_e=[],Oe=(n("d81d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-rule-list-item  display-row"},[n("span",{staticClass:"keep-whitespace"},[e._v("When ")]),n("v-select",{staticClass:"rule-trigger",attrs:{clearable:!1,options:e.TriggerTypes.allValues,value:e.rule.trigger},on:{input:function(t){return e.triggerChange(t)}}}),n("span",{staticClass:"keep-whitespace"},[e._v(", ")]),n("game-spec-effect",{attrs:{effect:e.rule.effect,specialOptions:e.specialOptions},on:{change:function(t){return e.effectChange(t)}}})],1)}),we=[],Ae=Object.freeze(T({TILE_SELECTED:"tile selected",PIECE_SELECTED:"piece selected"})),Pe=Object.freeze(T({GAME_START:"the game starts",TILE_SELECTED:"the current player selects a tile",PIECE_SELECTED:"the current player selects a piece",specialOptions:function(e){switch(e){case this.TILE_SELECTED:return[Ae.TILE_SELECTED];case this.PIECE_SELECTED:return[Ae.PIECE_SELECTED];default:return[]}}})),Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-effect",on:{mousedown:function(e){e.stopPropagation()}}},[n("v-select",{staticClass:"rule-effect",attrs:{clearable:!1,options:e.effectsList,value:e.currentOption,label:"text"},on:{input:function(t){return e.selectionChange(t.effectClass)}},scopedSlots:e._u([{key:"selected-option",fn:function(t){var r=t.component;return[n(r,{tag:"component",attrs:{effect:e.effect,specialOptions:e.specialOptions},on:{change:function(t){return e.childEffectChange(t)}}})]}}])})],1)},Te=[],xe=n("d4ec"),je=n("bee2"),Ge=function(){function e(){Object(xe["a"])(this,e)}return Object(je["a"])(e,[{key:"execute",value:function(e,t,n){throw new Error("Effect "+this.constructor.name+" does not have the execute() method implemented")}}]),e}(),ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-effect-set-attribute  display-row"},[n("span",{staticClass:"keep-whitespace"},[e._v("set the value of ")]),n("game-spec-selector-attribute",{attrs:{selector:e.effect.attributeSelector,specialOptions:e.specialOptions},on:{change:function(t){return e.attributeSelectorChange(t)}}}),e.attributeType?n("span",{staticClass:"keep-whitespace"},[e._v(" to ")]):e._e(),e.attributeType?n("game-spec-selector-value",{attrs:{valueType:e.attributeType,selector:e.effect.valueSelector,specialOptions:e.specialOptions},on:{change:function(t){return e.valueSelectorChange(t)}}}):e._e()],1)},$e=[],Ve=n("262e"),Ne=n("2caf"),Le=function(e){Object(Ve["a"])(n,e);var t=Object(Ne["a"])(n);function n(e,r){var i;return Object(xe["a"])(this,n),i=t.call(this),i._attributeSelector=e,i._valueSelector=r,i}return Object(je["a"])(n,[{key:"execute",value:function(e,t,n){var r=this._attributeSelector.getAttribute(e,n),i=r.attributeName,c=r.objectFromState,a=this._valueSelector.getValue(e,n);t("setAttributeValue",{attributeName:i,objectFromState:c,valueFromState:a})}},{key:"attributeSelector",set:function(e){this._attributeSelector=e},get:function(){return this._attributeSelector}},{key:"valueSelector",set:function(e){this._valueSelector=e},get:function(){return this._valueSelector}}]),n}(Ge),qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-selector-attribute",on:{mousedown:function(e){e.stopPropagation()}}},[n("v-select",{staticClass:"selector-attribute-type",attrs:{clearable:!1,options:e.attributeSelectorsList,value:e.currentOption,label:"text"},on:{input:function(t){return e.selectionChange(t.selectorClass)}},scopedSlots:e._u([{key:"selected-option",fn:function(t){var r=t.component;return[n(r,{tag:"component",attrs:{selector:e.selector,expectedType:e.expectedType,specialOptions:e.specialOptions},on:{change:function(t){return e.childSelectorChange(t)}}})]}}])})],1)},Ie=[],Re=function(){function e(){Object(xe["a"])(this,e)}return Object(je["a"])(e,[{key:"getAttributeType",value:function(){throw new Error("Selector "+this.constructor.name+" does not have method getAttributeType() implemented")}},{key:"getAttribute",value:function(e,t){throw new Error("Selector "+this.constructor.name+" does not have method getAttribute() implemented")}}]),e}(),De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-selector-attribute-game-attr  display-row",on:{mousedown:function(e){e.stopPropagation()}}},[n("span",{staticClass:"keep-whitespace"},[e._v(e._s(e.text.split("...")[0]))]),n("v-select",{staticClass:"selector-attribute-name",attrs:{clearable:!1,options:e.gameAttributes,value:e.selector.gameAttribute,getOptionLabel:function(e){return e.name}},on:{input:function(t){return e.attributeChanged(t)}}})],1)},Fe=[],Be=(n("4de4"),function(e){Object(Ve["a"])(n,e);var t=Object(Ne["a"])(n);function n(e){var r;return Object(xe["a"])(this,n),r=t.call(this),r._gameAttribute=e,r}return Object(je["a"])(n,[{key:"getAttributeType",value:function(){return this._gameAttribute?this._gameAttribute.type:void 0}},{key:"getAttribute",value:function(e,t){return{attributeName:this._gameAttribute.name,objectFromState:function(e){return e.gameAttributes}}}},{key:"gameAttribute",set:function(e){this._gameAttribute=e},get:function(){return this._gameAttribute}}]),n}(Re)),Ue={name:"GameSpecSelectorAttributeGameAttr",props:{selector:{type:Be,required:!0},expectedType:{type:String,required:!1}},components:{vSelect:G.a},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),text:function(){return"game attribute ..."},selectorClass:function(){return Be},gameAttributes:function(){var e=this,t=this.$store.state.gameSpec.gameAttributes;return this.expectedType?t.filter((function(t){return t.type===e.expectedType})):t}},methods:{attributeChanged:function(e){this.selector.gameAttribute=e,this.$emit("change",this.selector)}}},He=Ue,Me=Object(a["a"])(He,De,Fe,!1,null,"3697de5c",null),We=Me.exports,Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-selector-attribute-from  display-row"},[n("span",{staticClass:"keep-whitespace"},[e._v("from ")]),n("game-spec-selector-value-choose-type",{attrs:{selector:e.selector.valueSelector,specialOptions:e.specialOptions,forbiddenTypes:e.forbiddenFromValueTypes},on:{change:function(t){return e.valueSelectorChange(t)}}}),e.valueType?n("div",{staticClass:"display-row",on:{mousedown:function(e){e.stopPropagation()}}},[n("span",{staticClass:"keep-whitespace"},[e._v(" attribute ")]),n("v-select",{attrs:{clearable:!1,options:e.attributeOptions,value:e.currentOption,label:"label"},on:{input:function(t){return e.attributeChange(t.attribute)}}})],1):e._e()],1)},Ye=[],Xe=(n("99af"),n("4160"),n("07ac"),n("159b"),n("caad"),n("2532"),function(){function e(){var t,n,r;Object(xe["a"])(this,e);for(var i=arguments.length,c=new Array(i),a=0;a<i;a++)c[a]=arguments[a];c[0]instanceof e?(t=c[0]._name,n=c[0]._type,r=c[0]._editable):(t=c[0],n=c[1],r=void 0===c[2]||c[2]),this._name=t,this._type=n,this._editable=r}return Object(je["a"])(e,[{key:"name",set:function(e){if("string"!==typeof e)throw new Error("not a string");this._name=e},get:function(){return this._name}},{key:"type",set:function(e){if(!x.allValues.includes(e))throw new Error("not an attribute type");this._type=e},get:function(){return this._type}},{key:"isEditable",get:function(){return this._editable}},{key:"isValid",get:function(){return void 0!==this._name&&""!==this._name&&void 0!==this._type}}]),e}()),ze=function(e){Object(Ve["a"])(n,e);var t=Object(Ne["a"])(n);function n(e,r){var i;return Object(xe["a"])(this,n),i=t.call(this),i._valueSelector=e,i._attribute=r,i}return Object(je["a"])(n,[{key:"getAttributeType",value:function(){return this._attribute?this._attribute.type:void 0}},{key:"getAttribute",value:function(e,t){return{attributeName:this._attribute.name,objectFromState:this.valueSelector.getValue(e,t)}}},{key:"valueSelector",set:function(e){this._valueSelector=e},get:function(){return this._valueSelector}},{key:"attribute",set:function(e){this._attribute=e},get:function(){return this._attribute}}]),n}(Re),Ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-selector-value-choose-type",on:{mousedown:function(e){e.stopPropagation()}}},[n("v-select",{attrs:{clearable:!1,options:e.availableOptions,value:e.currentOption,getOptionLabel:function(e){return e+" ..."}},on:{input:function(t){return e.typeChange(t)}},scopedSlots:e._u([{key:"selected-option",fn:function(t){var r=t.label;return[n("div",{staticClass:"display-row"},[n("span",{staticClass:"keep-whitespace"},[e._v(e._s(r)+" ")]),n("game-spec-selector-value",{attrs:{selector:e.selector,valueType:r,specialOptions:e.specialOptions},on:{change:function(t){return e.valueSelectorChange(t)}}})],1)]}}])})],1)},Je=[],Ze=function(){function e(){Object(xe["a"])(this,e)}return Object(je["a"])(e,[{key:"getValueType",value:function(){throw new Error("Selector "+this.constructor.name+" does not have method getValueType() implemented")}},{key:"getValue",value:function(e,t){throw new Error("Selector "+this.constructor.name+" does not have method getValue() implemented")}}]),e}(),et=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-selector-value"},[n(e.component.name,{tag:"component",attrs:{selector:e.selector,specialOptions:e.specialOptions},on:{change:function(t){return e.childSelectorChange(t)}}})],1)},tt=[],nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-selector-value-number",on:{mousedown:function(e){e.stopPropagation()}}},[n("v-select",{staticClass:"selector-value-number-type",attrs:{clearable:!1,options:e.numberSelectorsList,value:e.currentOption,label:"text"},on:{input:function(t){return e.selectionChange(t.selectorClass)}},scopedSlots:e._u([{key:"selected-option",fn:function(t){var r=t.component;return[n(r,{tag:"component",attrs:{selector:e.selector,expectedType:e.expectedType,specialOptions:e.specialOptions},on:{change:function(t){return e.childSelectorChange(t)}}})]}}])})],1)},rt=[],it=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-selector-value-of-attribute  display-row"},[n("span",{staticClass:"keep-whitespace"},[e._v("the value of ")]),n("game-spec-selector-attribute",{attrs:{selector:e.selector.attributeSelector,expectedType:e.expectedType,specialOptions:e.specialOptions},on:{change:function(t){return e.attributeSelectorChange(t)}}})],1)},ct=[],at=function(e){Object(Ve["a"])(n,e);var t=Object(Ne["a"])(n);function n(e){var r;return Object(xe["a"])(this,n),r=t.call(this),r._attributeSelector=e,r}return Object(je["a"])(n,[{key:"getValueType",value:function(){return this._attributeSelector?this._attributeSelector.getAttributeType():void 0}},{key:"getValue",value:function(e,t){var n=this._attributeSelector.getAttribute(e,t),r=n.attributeName,i=n.objectFromState;return function(e){return i(e)[r]}}},{key:"attributeSelector",set:function(e){this._attributeSelector=e},get:function(){return this._attributeSelector}}]),n}(Ze),ot={name:"GameSpecSelectorValueOfAttribute",props:{selector:{type:at,required:!0},expectedType:{type:String,required:!0},specialOptions:{type:Array,required:!1}},beforeCreate:function(){this.$options.components.GameSpecSelectorAttribute=rr},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),text:function(){return"the value of ..."},selectorClass:function(){return at}},methods:{attributeSelectorChange:function(e){this.selector.attributeSelector=e,this.$emit("change",this.selector)}}},st=ot,ut=Object(a["a"])(st,it,ct,!1,null,"10471f5e",null),lt=ut.exports,pt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-selector-value-number-input",on:{mousedown:function(e){e.stopPropagation()}}},[n("input",{directives:[{name:"model",rawName:"v-model.number.lazy",value:e.numberValue,expression:"numberValue",modifiers:{number:!0,lazy:!0}}],attrs:{type:"number"},domProps:{value:e.numberValue},on:{change:function(t){e.numberValue=e._n(t.target.value)},blur:function(t){return e.$forceUpdate()}}})])},ft=[],mt=function(e){Object(Ve["a"])(n,e);var t=Object(Ne["a"])(n);function n(e){var r;return Object(xe["a"])(this,n),r=t.call(this),r._value=e,r}return Object(je["a"])(n,[{key:"getValueType",value:function(){return x.NUMBER}},{key:"getValue",value:function(e,t){var n=this;return function(e){return n._value}}},{key:"value",set:function(e){if("number"!==typeof e)throw new TypeError("Expected number value but received "+Object(E["a"])(e));this._value=e},get:function(){return this._value}}]),n}(Ze),ht={name:"GameSpecSelectorValueNumberInput",props:{selector:{type:mt,required:!0}},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),text:function(){return"(type a value)"},selectorClass:function(){return mt},numberValue:{get:function(){return this.selector.value},set:function(e){this.selector.value=e,this.$emit("change",this.selector)}}}},dt=ht,gt=Object(a["a"])(dt,pt,ft,!1,null,"10036930",null),bt=gt.exports,yt={name:"GameSpecSelectorValueNumber",props:{selector:{type:Ze,required:!1},specialOptions:{type:Array,required:!1}},components:{vSelect:G.a,GameSpecSelectorValueOfAttribute:lt,GameSpecSelectorValueNumberInput:bt},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),expectedType:function(){return x.NUMBER},numberSelectorsList:function(){var e=[lt,bt];return e.map((function(e){return{component:e.name,text:e.computed.text(),selectorClass:e.computed.selectorClass()}}))},currentOption:function(){var e=this;return this.selector?this.numberSelectorsList.find((function(t){var n=e.selector.constructor;return t.selectorClass===n})):null}},methods:{childSelectorChange:function(e){this.$emit("change",e)},selectionChange:function(e){this.$emit("change",new e)}}},vt=yt,St=Object(a["a"])(vt,nt,rt,!1,null,"d2dcf644",null),Ct=St.exports,_t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-selector-value-text",on:{mousedown:function(e){e.stopPropagation()}}},[n("v-select",{staticClass:"selector-value-text-type",attrs:{clearable:!1,options:e.textSelectorsList,value:e.currentOption,label:"text"},on:{input:function(t){return e.selectionChange(t.selectorClass)}},scopedSlots:e._u([{key:"selected-option",fn:function(t){var r=t.component;return[n(r,{tag:"component",attrs:{selector:e.selector,expectedType:e.expectedType,specialOptions:e.specialOptions},on:{change:function(t){return e.childSelectorChange(t)}}})]}}])})],1)},Ot=[],wt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-selector-value-text-input",on:{mousedown:function(e){e.stopPropagation()}}},[n("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.textValue,expression:"textValue",modifiers:{lazy:!0}}],attrs:{type:"text"},domProps:{value:e.textValue},on:{change:function(t){e.textValue=t.target.value}}})])},At=[],Pt=function(e){Object(Ve["a"])(n,e);var t=Object(Ne["a"])(n);function n(e){var r;return Object(xe["a"])(this,n),r=t.call(this),r._value=e,r}return Object(je["a"])(n,[{key:"getValueType",value:function(){return x.TEXT}},{key:"getValue",value:function(e,t){var n=this;return function(e){return n._value}}},{key:"value",set:function(e){if("string"!==typeof e)throw new TypeError("Expected string value but received "+Object(E["a"])(e));this._value=e},get:function(){return this._value}}]),n}(Ze),Et={name:"GameSpecSelectorValueTextInput",props:{selector:{type:Pt,required:!0}},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),text:function(){return"(type a value)"},selectorClass:function(){return Pt},textValue:{get:function(){return this.selector.value},set:function(e){this.selector.value=e,this.$emit("change",this.selector)}}}},Tt=Et,xt=Object(a["a"])(Tt,wt,At,!1,null,"09f71c06",null),jt=xt.exports,Gt={name:"GameSpecSelectorValueText",props:{selector:{type:Ze,required:!1},specialOptions:{type:Array,required:!1}},components:{vSelect:G.a,GameSpecSelectorValueOfAttribute:lt,GameSpecSelectorValueTextInput:jt},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),expectedType:function(){return x.TEXT},textSelectorsList:function(){var e=[lt,jt];return e.map((function(e){return{component:e.name,text:e.computed.text(),selectorClass:e.computed.selectorClass()}}))},currentOption:function(){var e=this;return this.selector?this.textSelectorsList.find((function(t){var n=e.selector.constructor;return t.selectorClass===n})):null}},methods:{childSelectorChange:function(e){this.$emit("change",e)},selectionChange:function(e){this.$emit("change",new e)}}},kt=Gt,$t=Object(a["a"])(kt,_t,Ot,!1,null,"92e65764",null),Vt=$t.exports,Nt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-selector-value-player",on:{mousedown:function(e){e.stopPropagation()}}},[n("v-select",{staticClass:"selector-value-player-type",attrs:{clearable:!1,options:e.playerSelectorsList,value:e.currentOption,label:"text"},on:{input:function(t){return e.selectionChange(t.selectorClass)}},scopedSlots:e._u([{key:"selected-option",fn:function(t){var r=t.component;return[n(r,{tag:"component",attrs:{selector:e.selector,expectedType:e.expectedType,specialOptions:e.specialOptions},on:{change:function(t){return e.childSelectorChange(t)}}})]}}])})],1)},Lt=[],qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-selector-value-player-pick",on:{mousedown:function(e){e.stopPropagation()}}},[n("v-select",{attrs:{clearable:!1,options:e.players,value:e.currentOption,label:"text"},on:{input:function(t){return e.playerChanged(t.playerNumber)}}})],1)},It=[],Rt=function(e){Object(Ve["a"])(n,e);var t=Object(Ne["a"])(n);function n(e){var r;return Object(xe["a"])(this,n),r=t.call(this),r._playerNumber=e,r}return Object(je["a"])(n,[{key:"getValueType",value:function(){return x.PLAYER}},{key:"getValue",value:function(e,t){var n=this._playerNumber-1;return function(e){return e.players[n]}}},{key:"playerNumber",set:function(e){this._playerNumber=e},get:function(){return this._playerNumber}}]),n}(Ze),Dt={name:"GameSpecSelectorValuePlayerPick",props:{selector:{type:Rt,required:!0}},components:{vSelect:G.a},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),text:function(){return"(choose a player)"},selectorClass:function(){return Rt},players:function(){for(var e=this.$store.state.gameSpec.players.number,t=[],n=1;n<=e;++n)t.push({playerNumber:n,text:"Player "+n});return t},currentOption:function(){var e=this;return this.selector&&"number"===typeof this.selector.playerNumber?this.players.find((function(t){return t.playerNumber===e.selector.playerNumber})):null}},methods:{playerChanged:function(e){this.selector.playerNumber=e,this.$emit("change",this.selector)}}},Ft=Dt,Bt=Object(a["a"])(Ft,qt,It,!1,null,"47ee53aa",null),Ut=Bt.exports,Ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-selector-value-player-current"},[n("span",{staticClass:"keep-whitespace"},[e._v(e._s(e.text))])])},Mt=[],Wt=function(e){Object(Ve["a"])(n,e);var t=Object(Ne["a"])(n);function n(){return Object(xe["a"])(this,n),t.apply(this,arguments)}return Object(je["a"])(n,[{key:"getValueType",value:function(){return x.PLAYER}},{key:"getValue",value:function(e,t){return function(e){return e.gameAttributes["Current Player"]}}}]),n}(Ze),Qt={name:"GameSpecSelectorValuePlayerCurrent",computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),text:function(){return"the current player"},selectorClass:function(){return Wt}}},Yt=Qt,Xt=Object(a["a"])(Yt,Ht,Mt,!1,null,"65baf50c",null),zt=Xt.exports,Kt={name:"GameSpecSelectorValuePlayer",props:{selector:{type:Ze,required:!1},specialOptions:{type:Array,required:!1}},components:{vSelect:G.a,GameSpecSelectorValueOfAttribute:lt,GameSpecSelectorValuePlayerPick:Ut,GameSpecSelectorValuePlayerCurrent:zt},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),expectedType:function(){return x.PLAYER},playerSelectorsList:function(){var e=[lt,Ut,zt];return e.map((function(e){return{component:e.name,text:e.computed.text(),selectorClass:e.computed.selectorClass()}}))},currentOption:function(){var e=this;return this.selector?this.playerSelectorsList.find((function(t){var n=e.selector.constructor;return t.selectorClass===n})):null}},methods:{childSelectorChange:function(e){this.$emit("change",e)},selectionChange:function(e){this.$emit("change",new e)}}},Jt=Kt,Zt=Object(a["a"])(Jt,Nt,Lt,!1,null,"6dd4211d",null),en=Zt.exports,tn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-selector-value-tile",on:{mousedown:function(e){e.stopPropagation()}}},[n("v-select",{staticClass:"selector-value-tile-type",attrs:{clearable:!1,options:e.tileSelectorsList,value:e.currentOption,label:"text"},on:{input:function(t){return e.selectionChange(t.selectorClass)}},scopedSlots:e._u([{key:"selected-option",fn:function(t){var r=t.component;return[n(r,{tag:"component",attrs:{selector:e.selector,expectedType:e.expectedType,specialOptions:e.specialOptions},on:{change:function(t){return e.childSelectorChange(t)}}})]}}])})],1)},nn=[],rn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-selector-value-tile-at  display-row"},[n("span",{staticClass:"keep-whitespace"},[e._v("tile at row ")]),n("game-spec-selector-value-number",{attrs:{selector:e.selector.rowSelector,specialOptions:e.specialOptions},on:{change:function(t){return e.rowSelectorChange(t)}}}),n("span",{staticClass:"keep-whitespace"},[e._v(" and column ")]),n("game-spec-selector-value-number",{attrs:{selector:e.selector.columnSelector,specialOptions:e.specialOptions},on:{change:function(t){return e.columnSelectorChange(t)}}})],1)},cn=[],an=function(e){Object(Ve["a"])(n,e);var t=Object(Ne["a"])(n);function n(e,r){var i;return Object(xe["a"])(this,n),i=t.call(this),i._rowSelector=e,i._columnSelector=r,i}return Object(je["a"])(n,[{key:"getValueType",value:function(){return x.TILE}},{key:"getValue",value:function(e,t){var n=this._rowSelector.getValue(e,t),r=this._columnSelector.getValue(e,t);return function(e){var t=n(e),i=r(e);return e.grid.tiles[t][i]}}},{key:"rowSelector",set:function(e){this._rowSelector=e},get:function(){return this._rowSelector}},{key:"columnSelector",set:function(e){this._columnSelector=e},get:function(){return this._columnSelector}}]),n}(Ze),on={name:"GameSpecSelectorValueTileAt",props:{selector:{type:an,required:!0},specialOptions:{type:Array,required:!1}},components:{GameSpecSelectorValueNumber:Ct},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),text:function(){return"tile at row ... and column ..."},selectorClass:function(){return an}},methods:{rowSelectorChange:function(e){this.selector.rowSelector=e,this.$emit("change",this.selector)},columnSelectorChange:function(e){this.selector.columnSelector=e,this.$emit("change",this.selector)}}},sn=on,un=Object(a["a"])(sn,rn,cn,!1,null,"2474c224",null),ln=un.exports,pn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-selector-value-tile-selected"},[n("span",{staticClass:"keep-whitespace"},[e._v(e._s(e.text))])])},fn=[],mn=function(e){Object(Ve["a"])(n,e);var t=Object(Ne["a"])(n);function n(){return Object(xe["a"])(this,n),t.apply(this,arguments)}return Object(je["a"])(n,[{key:"getValueType",value:function(){return x.TILE}},{key:"getValue",value:function(e,t){var n=t;return function(e){return e.grid.tiles[n.Row][n.Column]}}}]),n}(Ze),hn={name:"GameSpecSelectorValueTileSelected",computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),text:function(){return"the tile that was selected"},selectorClass:function(){return mn}}},dn=hn,gn=Object(a["a"])(dn,pn,fn,!1,null,"bd1886e6",null),bn=gn.exports,yn={name:"GameSpecSelectorValueTile",props:{selector:{type:Ze,required:!1},specialOptions:{type:Array,required:!1}},components:{vSelect:G.a,GameSpecSelectorValueOfAttribute:lt,GameSpecSelectorValueTileAt:ln,GameSpecSelectorValueTileSelected:bn},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),expectedType:function(){return x.TILE},tileSelectorsList:function(){var e=[lt,ln];return this.specialOptions&&this.specialOptions.includes(Ae.TILE_SELECTED)&&e.push(bn),e.map((function(e){return{component:e.name,text:e.computed.text(),selectorClass:e.computed.selectorClass()}}))},currentOption:function(){var e=this;return this.selector?this.tileSelectorsList.find((function(t){var n=e.selector.constructor;return t.selectorClass===n})):null}},methods:{childSelectorChange:function(e){this.$emit("change",e)},selectionChange:function(e){this.$emit("change",new e)}}},vn=yn,Sn=Object(a["a"])(vn,tn,nn,!1,null,"22a4129e",null),Cn=Sn.exports,_n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-selector-value-piece",on:{mousedown:function(e){e.stopPropagation()}}},[n("v-select",{staticClass:"selector-value-piece-type",attrs:{clearable:!1,options:e.pieceSelectorsList,value:e.currentOption,label:"text"},on:{input:function(t){return e.selectionChange(t.selectorClass)}},scopedSlots:e._u([{key:"selected-option",fn:function(t){var r=t.component;return[n(r,{tag:"component",attrs:{selector:e.selector,expectedType:e.expectedType,specialOptions:e.specialOptions},on:{change:function(t){return e.childSelectorChange(t)}}})]}}])})],1)},On=[],wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-selector-value-piece-at  display-row"},[n("span",{staticClass:"keep-whitespace"},[e._v("the piece at ")]),n("game-spec-selector-value-tile",{attrs:{selector:e.selector.tileSelector,specialOptions:e.specialOptions},on:{change:function(t){return e.tileSelectorChange(t)}}})],1)},An=[],Pn=function(e){Object(Ve["a"])(n,e);var t=Object(Ne["a"])(n);function n(e){var r;return Object(xe["a"])(this,n),r=t.call(this),r._tileSelector=e,r}return Object(je["a"])(n,[{key:"getValueType",value:function(){return x.PIECE}},{key:"getValue",value:function(e,t){var n=this._tileSelector.getValue(e,t);return function(e){return n(e).Content}}},{key:"tileSelector",set:function(e){this._tileSelector=e},get:function(){return this._tileSelector}}]),n}(Ze),En={name:"GameSpecSelectorValuePieceAt",props:{selector:{type:Pn,required:!0},specialOptions:{type:Array,required:!1}},components:{GameSpecSelectorValueTile:Cn},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),text:function(){return"the piece at ..."},selectorClass:function(){return Pn}},methods:{tileSelectorChange:function(e){this.selector.tileSelector=e,this.$emit("change",this.selector)}}},Tn=En,xn=Object(a["a"])(Tn,wn,An,!1,null,"dffe6fba",null),jn=xn.exports,Gn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-selector-value-piece-selected"},[n("span",{staticClass:"keep-whitespace"},[e._v(e._s(e.text))])])},kn=[],$n=function(e){Object(Ve["a"])(n,e);var t=Object(Ne["a"])(n);function n(){return Object(xe["a"])(this,n),t.apply(this,arguments)}return Object(je["a"])(n,[{key:"getValueType",value:function(){return x.PIECE}},{key:"getValue",value:function(e,t){var n=t;return function(e){return e.pieces.find((function(e){return e.id===n.id}))}}}]),n}(Ze),Vn={name:"GameSpecSelectorValuePieceSelected",computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),text:function(){return"the piece that was selected"},selectorClass:function(){return $n}}},Nn=Vn,Ln=Object(a["a"])(Nn,Gn,kn,!1,null,"5fe4e9ce",null),qn=Ln.exports,In={name:"GameSpecSelectorValuePiece",props:{selector:{type:Ze,required:!1},specialOptions:{type:Array,required:!1}},components:{vSelect:G.a,GameSpecSelectorValueOfAttribute:lt,GameSpecSelectorValuePieceAt:jn,GameSpecSelectorValuePieceSelected:qn},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),expectedType:function(){return x.PIECE},pieceSelectorsList:function(){var e=[lt,jn];return this.specialOptions&&this.specialOptions.includes(Ae.PIECE_SELECTED)&&e.push(qn),e.map((function(e){return{component:e.name,text:e.computed.text(),selectorClass:e.computed.selectorClass()}}))},currentOption:function(){var e=this;return this.selector?this.pieceSelectorsList.find((function(t){var n=e.selector.constructor;return t.selectorClass===n})):null}},methods:{childSelectorChange:function(e){this.$emit("change",e)},selectionChange:function(e){this.$emit("change",new e)}}},Rn=In,Dn=Object(a["a"])(Rn,_n,On,!1,null,"f283a4ca",null),Fn=Dn.exports,Bn={name:"GameSpecSelectorValue",props:{selector:{type:Ze,required:!1},valueType:{validator:function(e){return x.allValues.includes(e)},required:!0},specialOptions:{type:Array,required:!1}},components:{vSelect:G.a,GameSpecSelectorValueNumber:Ct,GameSpecSelectorValueText:Vt,GameSpecSelectorValuePlayer:en,GameSpecSelectorValueTile:Cn,GameSpecSelectorValuePiece:Fn},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),component:function(){switch(this.valueType){case x.NUMBER:return Ct;case x.TEXT:return Vt;case x.PLAYER:return en;case x.TILE:return Cn;case x.PIECE:return Fn;default:throw new Error("Value type "+this.valueType+" does not have an associated selector component")}}},methods:{childSelectorChange:function(e){this.$emit("change",e)}}},Un=Bn,Hn=Object(a["a"])(Un,et,tt,!1,null,"388b6466",null),Mn=Hn.exports,Wn={name:"GameSpecSelectorValueChooseType",props:{selector:{type:Ze,required:!1},specialOptions:{type:Array,required:!1},forbiddenTypes:{type:Array,required:!1,validator:function(e){var t=!0;return e.forEach((function(e){x.allValues.includes(e)||(t=!1)})),t}}},components:{vSelect:G.a,GameSpecSelectorValue:Mn},data:function(){return{selectedValueType:null}},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),availableOptions:function(){var e=this;return this.forbiddenTypes?x.allValues.filter((function(t){return!e.forbiddenTypes.includes(t)})):x.allValues},currentOption:function(){return this.selector&&this.selector.getValueType()?this.selector.getValueType():this.selectedValueType}},methods:{typeChange:function(e){this.selectedValueType=e,this.$emit("change",null)},valueSelectorChange:function(e){this.$emit("change",e)}}},Qn=Wn,Yn=Object(a["a"])(Qn,Ke,Je,!1,null,"6f5fffcd",null),Xn=Yn.exports,zn={name:"GameSpecSelectorAttributeFrom",props:{selector:{type:ze,required:!0},expectedType:{type:String,required:!1},specialOptions:{type:Array,required:!1}},components:{vSelect:G.a,GameSpecSelectorValueChooseType:Xn},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),text:function(){return"from ... attribute ..."},selectorClass:function(){return ze},forbiddenFromValueTypes:function(){return[x.NUMBER,x.TEXT]},valueType:function(){return this.selector&&this.selector.valueSelector?this.selector.valueSelector.getValueType():null},attributeList:function(){var e,t=this;if(!this.valueType)return[];var n={};switch(this.valueType){case x.PLAYER:e=this.$store.state.gameSpec.players.attributes;break;case x.TILE:e=this.$store.state.gameSpec.grid.attributes;break;case x.PIECE:this.$store.state.gameSpec.pieces.forEach((function(e){e.attributes.forEach((function(e){n[e.name+e.type]||(n[e.name+e.type]=new Xe(e))}))})),e=Object.values(n);break;default:throw new Error("Attribute type "+this.valueType+" has no associated attribute list")}return this.expectedType?e.filter((function(e){return e.type===t.expectedType})):e},attributeOptions:function(){return this.attributeList?this.valueType===x.PIECE?this.attributeList.map((function(e){return{attribute:e,label:"".concat(e.name," (").concat(e.type,")")}})):this.attributeList.map((function(e){return{attribute:e,label:e.name}})):[]},currentOption:function(){var e=this;return this.selector&&this.selector.attribute?this.attributeOptions.find((function(t){var n=e.selector.attribute.name===t.attribute.name,r=e.selector.attribute.type===t.attribute.type;return n&&r})):null}},methods:{valueSelectorChange:function(e){this.selector.valueSelector=e,this.$emit("change",this.selector)},attributeChange:function(e){this.selector.attribute=e,this.$emit("change",this.selector)}}},Kn=zn,Jn=Object(a["a"])(Kn,Qe,Ye,!1,null,"30c3aafe",null),Zn=Jn.exports,er={name:"GameSpecSelectorAttribute",props:{selector:{type:Re,required:!1},expectedType:{type:String,required:!1},specialOptions:{type:Array,required:!1}},components:{vSelect:G.a,GameSpecSelectorAttributeGameAttr:We,GameSpecSelectorAttributeFrom:Zn},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),attributeSelectorsList:function(){var e=[We,Zn];return e.map((function(e){return{component:e.name,text:e.computed.text(),selectorClass:e.computed.selectorClass()}}))},currentOption:function(){var e=this;return this.selector?this.attributeSelectorsList.find((function(t){var n=e.selector.constructor;return t.selectorClass===n})):null}},methods:{childSelectorChange:function(e){this.$emit("change",e)},selectionChange:function(e){this.$emit("change",new e)}}},tr=er,nr=Object(a["a"])(tr,qe,Ie,!1,null,"446ba190",null),rr=nr.exports,ir={name:"GameSpecEffectSetAttribute",props:{effect:{type:Le,required:!0},specialOptions:{type:Array,required:!1}},components:{GameSpecSelectorAttribute:rr,GameSpecSelectorValue:Mn},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),text:function(){return"set the value of ... to ..."},effectClass:function(){return Le},attributeType:function(){return this.effect.attributeSelector&&this.effect.attributeSelector.getAttributeType()?this.effect.attributeSelector.getAttributeType():null}},methods:{attributeSelectorChange:function(e){this.effect.attributeSelector=e,this.$emit("change",this.effect)},valueSelectorChange:function(e){this.effect.valueSelector=e,this.$emit("change",this.effect)}}},cr=ir,ar=Object(a["a"])(cr,ke,$e,!1,null,"5f7143e4",null),or=ar.exports,sr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-effect-change-attribute-by  display-row",on:{mousedown:function(e){e.stopPropagation()}}},[n("v-select",{attrs:{clearable:!1,options:e.selectOptions,value:e.currentOption},on:{input:function(t){return e.increaseDecreaseChange(t)}}}),n("span",{staticClass:"keep-whitespace"},[e._v(" the value of ")]),n("game-spec-selector-attribute",{attrs:{selector:e.effect.attributeSelector,specialOptions:e.specialOptions,expectedType:e.expectedType},on:{change:function(t){return e.attributeSelectorChange(t)}}}),n("span",{staticClass:"keep-whitespace"},[e._v(" by ")]),n("game-spec-selector-value-number",{attrs:{selector:e.effect.valueSelector,specialOptions:e.specialOptions},on:{change:function(t){return e.valueSelectorChange(t)}}})],1)},ur=[],lr=function(e){Object(Ve["a"])(n,e);var t=Object(Ne["a"])(n);function n(e,r){var i,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(xe["a"])(this,n),i=t.call(this),i._attributeSelector=e,i._valueSelector=r,i._shouldDecrease=c,i}return Object(je["a"])(n,[{key:"execute",value:function(e,t,n){var r=this,i=this._attributeSelector.getAttribute(e,n),c=i.attributeName,a=i.objectFromState,o=this._valueSelector.getValue(e,n),s=function(e){return r._shouldDecrease?a(e)[c]-o(e):a(e)[c]+o(e)};t("setAttributeValue",{attributeName:c,objectFromState:a,valueFromState:s})}},{key:"attributeSelector",set:function(e){this._attributeSelector=e},get:function(){return this._attributeSelector}},{key:"valueSelector",set:function(e){this._valueSelector=e},get:function(){return this._valueSelector}},{key:"shouldDecrease",set:function(e){this._shouldDecrease=e},get:function(){return this._shouldDecrease}}]),n}(Ge),pr={name:"GameSpecEffectChangeAttributeBy",props:{effect:{type:lr,required:!0},specialOptions:{type:Array,required:!1}},components:{vSelect:G.a,GameSpecSelectorAttribute:rr,GameSpecSelectorValueNumber:Ct},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),text:function(){return"increase/decrease the value of ... by ..."},effectClass:function(){return lr},selectOptions:function(){return["increase","decrease"]},currentOption:function(){return this.effect.shouldDecrease?"decrease":"increase"},expectedType:function(){return x.NUMBER}},methods:{increaseDecreaseChange:function(e){this.effect.shouldDecrease="decrease"===e,this.$emit("change",this.effect)},attributeSelectorChange:function(e){this.effect.attributeSelector=e,this.$emit("change",this.effect)},valueSelectorChange:function(e){this.effect.valueSelector=e,this.$emit("change",this.effect)}}},fr=pr,mr=Object(a["a"])(fr,sr,ur,!1,null,"3cb74be6",null),hr=mr.exports,dr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-effect-create-piece  display-row"},[n("span",{staticClass:"keep-whitespace"},[e._v("create a piece of type ")]),n("game-spec-picker-piece",{attrs:{piece:e.effect.piece},on:{change:function(t){return e.pieceChange(t)}}}),n("span",{staticClass:"keep-whitespace"},[e._v(" at ")]),n("game-spec-selector-value-tile",{attrs:{selector:e.effect.tileSelector,specialOptions:e.specialOptions},on:{change:function(t){return e.tileSelectorChange(t)}}}),n("span",{staticClass:"keep-whitespace"},[e._v(" with the owner ")]),n("game-spec-selector-value-player",{attrs:{selector:e.effect.ownerSelector,specialOptions:e.specialOptions},on:{change:function(t){return e.ownerSelectorChange(t)}}})],1)},gr=[],br=function(e){Object(Ve["a"])(n,e);var t=Object(Ne["a"])(n);function n(e,r,i){var c;return Object(xe["a"])(this,n),c=t.call(this),c._piece=e,c._tileSelector=r,c._ownerSelector=i,c}return Object(je["a"])(n,[{key:"execute",value:function(e,t,n){var r=this._piece.name,i=this._tileSelector.getValue(e,n),c=this.ownerSelector.getValue(e,n);t("createPiece",{pieceName:r,tileFromState:i,ownerFromState:c})}},{key:"piece",set:function(e){this._piece=e},get:function(){return this._piece}},{key:"tileSelector",set:function(e){this._tileSelector=e},get:function(){return this._tileSelector}},{key:"ownerSelector",set:function(e){this._ownerSelector=e},get:function(){return this._ownerSelector}}]),n}(Ge),yr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"game-spec-picker-piece",on:{mousedown:function(e){e.stopPropagation()}}},[r("v-select",{staticClass:"piece-picker",attrs:{clearable:!1,options:e.pieces,value:e.piece,getOptionLabel:function(e){return e.name}},on:{input:function(t){return e.pieceChanged(t)}},scopedSlots:e._u([e._l(["option","selected-option"],(function(t){return{key:t,fn:function(i){var c=i.icon,a=i.name;return[r("div",{key:t,staticClass:"display-row"},[r("img",{attrs:{src:n("67f7")("./"+c)}}),r("span",{staticClass:"keep-whitespace-nowrap"},[e._v(" "+e._s(a))])])]}}}))],null,!0)})],1)},vr=[],Sr={name:"GameSpecPickerPiece",props:{piece:{type:Object,required:!1}},components:{vSelect:G.a},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),pieces:function(){return this.$store.state.gameSpec.pieces}},methods:{pieceChanged:function(e){this.$emit("change",e)}}},Cr=Sr,_r=(n("a763"),Object(a["a"])(Cr,yr,vr,!1,null,"59edf9eb",null)),Or=_r.exports,wr={name:"GameSpecEffectCreatePiece",props:{effect:{type:br,required:!0},specialOptions:{type:Array,required:!1}},components:{GameSpecPickerPiece:Or,GameSpecSelectorValueTile:Cn,GameSpecSelectorValuePlayer:en},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),text:function(){return"create a piece ..."},effectClass:function(){return br}},methods:{pieceChange:function(e){this.effect.piece=e,this.$emit("change",this.effect)},tileSelectorChange:function(e){this.effect.tileSelector=e,this.$emit("change",this.effect)},ownerSelectorChange:function(e){this.effect.ownerSelector=e,this.$emit("change",this.effect)}}},Ar=wr,Pr=Object(a["a"])(Ar,dr,gr,!1,null,"18795006",null),Er=Pr.exports,Tr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-effect-if-then  display-row"},[n("span",{staticClass:"keep-whitespace"},[e._v("if ")]),n("game-spec-condition",{attrs:{condition:e.effect.condition,specialOptions:e.specialOptions},on:{change:function(t){return e.conditionChange(t)}}}),n("span",{staticClass:"keep-whitespace"},[e._v(" then ")]),n("game-spec-effect",{attrs:{effect:e.effect.effect,specialOptions:e.specialOptions},on:{change:function(t){return e.effectChange(t)}}})],1)},xr=[],jr=function(e){Object(Ve["a"])(n,e);var t=Object(Ne["a"])(n);function n(e,r){var i;return Object(xe["a"])(this,n),i=t.call(this),i._condition=e,i._effect=r,i}return Object(je["a"])(n,[{key:"execute",value:function(e,t,n){this._condition.isTrue(e,n)&&this._effect.execute(e,t,n)}},{key:"condition",set:function(e){this._condition=e},get:function(){return this._condition}},{key:"effect",set:function(e){this._effect=e},get:function(){return this._effect}}]),n}(Ge),Gr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-condition",on:{mousedown:function(e){e.stopPropagation()}}},[n("v-select",{attrs:{clearable:!1,options:e.conditionsList,value:e.currentOption,label:"text"},on:{input:function(t){return e.selectionChange(t.conditionClass)}},scopedSlots:e._u([{key:"selected-option",fn:function(t){var r=t.component;return[n(r,{tag:"component",attrs:{condition:e.condition,specialOptions:e.specialOptions},on:{change:function(t){return e.childConditionChange(t)}}})]}}])})],1)},kr=[],$r=function(){function e(){Object(xe["a"])(this,e)}return Object(je["a"])(e,[{key:"isTrue",value:function(e,t){throw new Error("Condition "+this.constructor.name+" does not have the assess() method implemented")}}]),e}(),Vr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-condition-equal-to  display-row"},[n("game-spec-selector-value-choose-type",{attrs:{selector:e.condition.firstTerm,specialOptions:e.specialOptions},on:{change:function(t){return e.firstTermChange(t)}}}),n("span",{staticClass:"keep-whitespace"},[e._v(" is equal to ")]),e.valueType?n("game-spec-selector-value",{attrs:{selector:e.condition.secondTerm,valueType:e.valueType,specialOptions:e.specialOptions},on:{change:function(t){return e.secondTermChange(t)}}}):n("span",[e._v("...")])],1)},Nr=[],Lr=function(e){Object(Ve["a"])(n,e);var t=Object(Ne["a"])(n);function n(e,r){var i;return Object(xe["a"])(this,n),i=t.call(this),i._firstTerm=e,i._secondTerm=r,i}return Object(je["a"])(n,[{key:"isTrue",value:function(e,t){var n=this._firstTerm.getValue(e,t),r=this._secondTerm.getValue(e,t),i=n(e),c=r(e);switch(this._firstTerm.getValueType()){case x.NUMBER:case x.TEXT:return i===c;case x.PIECE:return i.id===c.id;case x.PLAYER:return i.playerNumber===c.playerNumber;case x.TILE:return i.Row===c.Row&&i.Column===c.Column;default:throw new Error("Attribute type "+this._firstTerm.getValueType()+" does not have an associated comparison")}}},{key:"firstTerm",set:function(e){this._firstTerm=e},get:function(){return this._firstTerm}},{key:"secondTerm",set:function(e){this._secondTerm=e},get:function(){return this._secondTerm}}]),n}($r),qr={name:"GameSpecConditionEqualTo",props:{condition:{type:Lr,required:!0},specialOptions:{type:Array,required:!1}},components:{GameSpecSelectorValueChooseType:Xn,GameSpecSelectorValue:Mn},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),text:function(){return"... is equal to ..."},conditionClass:function(){return Lr},valueType:function(){return this.condition.firstTerm?this.condition.firstTerm.getValueType():null}},methods:{firstTermChange:function(e){this.condition.firstTerm=e,this.$emit("change",this.condition)},secondTermChange:function(e){this.condition.secondTerm=e,this.$emit("change",this.condition)}}},Ir=qr,Rr=Object(a["a"])(Ir,Vr,Nr,!1,null,"04a795f0",null),Dr=Rr.exports,Fr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-condition-tile-empty  display-row"},[n("game-spec-selector-value-tile",{attrs:{selector:e.condition.tileSelector,specialOptions:e.specialOptions},on:{change:function(t){return e.tileSelectorChange(t)}}}),n("span",{staticClass:"keep-whitespace"},[e._v(" is empty")])],1)},Br=[],Ur=function(e){Object(Ve["a"])(n,e);var t=Object(Ne["a"])(n);function n(e){var r;return Object(xe["a"])(this,n),r=t.call(this),r._tileSelector=e,r}return Object(je["a"])(n,[{key:"isTrue",value:function(e,t){var n=this._tileSelector.getValue(e,t),r=n(e);return void 0===r.Content||null===r.Content}},{key:"tileSelector",set:function(e){this._tileSelector=e},get:function(){return this._tileSelector}}]),n}($r),Hr={name:"GameSpecConditionTileEmpty",props:{condition:{type:Ur,required:!0},specialOptions:{type:Array,required:!1}},components:{GameSpecSelectorValueTile:Cn},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),text:function(){return"tile ... is empty"},conditionClass:function(){return Ur}},methods:{tileSelectorChange:function(e){this.condition.tileSelector=e,this.$emit("change",this.condition)}}},Mr=Hr,Wr=Object(a["a"])(Mr,Fr,Br,!1,null,"1da4d3ee",null),Qr=Wr.exports,Yr={name:"GameSpecCondition",props:{condition:{type:$r,required:!1},specialOptions:{type:Array,required:!1}},components:{vSelect:G.a,GameSpecConditionEqualTo:Dr,GameSpecConditionTileEmpty:Qr},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),conditionsList:function(){var e=[Dr,Qr];return e.map((function(e){return{component:e.name,text:e.computed.text(),conditionClass:e.computed.conditionClass()}}))},currentOption:function(){var e=this;return this.condition?this.conditionsList.find((function(t){var n=e.condition.constructor;return t.conditionClass===n})):null}},methods:{selectionChange:function(e){this.$emit("change",new e)},childConditionChange:function(e){this.$emit("change",e)}}},Xr=Yr,zr=Object(a["a"])(Xr,Gr,kr,!1,null,"09ea85e1",null),Kr=zr.exports,Jr={name:"GameSpecEffectIfThen",props:{effect:{type:jr,required:!0},specialOptions:{type:Array,required:!1}},components:{GameSpecCondition:Kr},beforeCreate:function(){this.$options.components.GameSpecEffect=vi},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),text:function(){return"if ... then ..."},effectClass:function(){return jr}},methods:{conditionChange:function(e){this.effect.condition=e,this.$emit("change",this.effect)},effectChange:function(e){this.effect.effect=e,this.$emit("change",this.effect)}}},Zr=Jr,ei=Object(a["a"])(Zr,Tr,xr,!1,null,"d5c8ad54",null),ti=ei.exports,ni=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-effect-and-then  display-row"},[n("game-spec-effect",{attrs:{effect:e.effect.firstEffect,specialOptions:e.specialOptions},on:{change:function(t){return e.firstEffectChange(t)}}}),n("span",{staticClass:"keep-whitespace"},[e._v(" and then ")]),n("game-spec-effect",{attrs:{effect:e.effect.andThenEffect,specialOptions:e.specialOptions},on:{change:function(t){return e.andThenEffectChange(t)}}})],1)},ri=[],ii=function(e){Object(Ve["a"])(n,e);var t=Object(Ne["a"])(n);function n(e,r){var i;return Object(xe["a"])(this,n),i=t.call(this),i._firstEffect=e,i._andThenEffect=r,i}return Object(je["a"])(n,[{key:"execute",value:function(e,t,n){this._firstEffect.execute(e,t,n),this._andThenEffect.execute(e,t,n)}},{key:"firstEffect",set:function(e){if(!(e instanceof Ge))throw new TypeError("Expected instance of Effect, but received "+e);this._firstEffect=e},get:function(){return this._firstEffect}},{key:"andThenEffect",set:function(e){if(!(e instanceof Ge))throw new TypeError("Expected instance of Effect, but received "+e);this._andThenEffect=e},get:function(){return this._andThenEffect}}]),n}(Ge),ci={name:"GameSpecEffectAndThen",props:{effect:{type:ii,required:!0},specialOptions:{type:Array,required:!1}},beforeCreate:function(){this.$options.components.GameSpecEffect=vi},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),text:function(){return"... and then ..."},effectClass:function(){return ii}},methods:{firstEffectChange:function(e){this.effect.firstEffect=e,this.$emit("change",this.effect)},andThenEffectChange:function(e){this.effect.andThenEffect=e,this.$emit("change",this.effect)}}},ai=ci,oi=Object(a["a"])(ai,ni,ri,!1,null,"16222dda",null),si=oi.exports,ui=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-spec-effect-player-wins-game  display-row"},[n("game-spec-selector-value-player",{attrs:{selector:e.effect.playerSelector,specialOptions:e.specialOptions},on:{change:function(t){return e.playerSelectorChange(t)}}}),n("span",{staticClass:"keep-whitespace"},[e._v(" wins the game")])],1)},li=[],pi=function(e){Object(Ve["a"])(n,e);var t=Object(Ne["a"])(n);function n(e){var r;return Object(xe["a"])(this,n),r=t.call(this),r._playerSelector=e,r}return Object(je["a"])(n,[{key:"execute",value:function(e,t,n){var r=this._playerSelector.getValue(e,n);t("endGame",{winnerFromState:r})}},{key:"playerSelector",set:function(e){this._playerSelector=e},get:function(){return this._playerSelector}}]),n}(Ge),fi={name:"GameSpecEffectPlayerWinsGame",props:{effect:{type:pi,required:!0},specialOptions:{type:Array,required:!1}},components:{GameSpecSelectorValuePlayer:en},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),text:function(){return"... wins the game"},effectClass:function(){return pi}},methods:{playerSelectorChange:function(e){this.effect.playerSelector=e,this.$emit("change",this.effect)}}},mi=fi,hi=Object(a["a"])(mi,ui,li,!1,null,"e94db756",null),di=hi.exports,gi={name:"GameSpecEffect",props:{effect:{type:Ge,required:!1},specialOptions:{type:Array,required:!1}},components:{vSelect:G.a,GameSpecEffectSetAttribute:or,GameSpecEffectChangeAttributeBy:hr,GameSpecEffectCreatePiece:Er,GameSpecEffectIfThen:ti,GameSpecEffectAndThen:si,GameSpecEffectPlayerWinsGame:di},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),effectsList:function(){var e=[or,hr,Er,ti,si,di];return e.map((function(e){return{component:e.name,text:e.computed.text(),effectClass:e.computed.effectClass()}}))},currentOption:function(){var e=this;return this.effect?this.effectsList.find((function(t){var n=e.effect.constructor;return t.effectClass===n})):null}},methods:{childEffectChange:function(e){this.$emit("change",e)},selectionChange:function(e){this.$emit("change",new e)}}},bi=gi,yi=Object(a["a"])(bi,Ee,Te,!1,null,"b9d8f286",null),vi=yi.exports,Si={name:"GameSpecRuleListItem",components:{vSelect:G.a,GameSpecEffect:vi},props:{rule:{type:Object,required:!0}},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),TriggerTypes:function(){return Pe},specialOptions:function(){return Pe.specialOptions(this.rule.trigger)}},methods:{triggerChange:function(e){this.$emit("rule-trigger-change",e)},effectChange:function(e){this.$emit("rule-effect-change",e)}}},Ci=Si,_i=Object(a["a"])(Ci,Oe,we,!1,null,"88514592",null),Oi=_i.exports,wi=1,Ai={name:"GameSpecRuleList",components:{GameSpecRuleListItem:Oi},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),rulesWithKeys:function(){return this.$store.state.gameSpec.rules.map((function(e){return{key:wi++,rule:e}}))}},methods:{addRule:function(){this.$store.commit("addRule")},ruleTriggerChange:function(e,t){this.$store.commit("alterRule",{index:e,propertyName:"trigger",newValue:t})},ruleEffectChange:function(e,t){this.$store.commit("alterRule",{index:e,propertyName:"effect",newValue:t})},removeRule:function(e){this.$store.commit("removeRule",e)}}},Pi=Ai,Ei=(n("63d9"),Object(a["a"])(Pi,Ce,_e,!1,null,"44385c49",null)),Ti=Ei.exports,xi={name:"GameSpec",components:{GameSpecPlayer:U,GameSpecGrid:te,GameSpecGameAttr:oe,GameSpecPieceList:Se,GameSpecRuleList:Ti},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console}))}},ji=xi,Gi=(n("fb50"),Object(a["a"])(ji,m,h,!1,null,"1c96081a",null)),ki=Gi.exports,$i={name:"GameSpecification",components:{GameSpec:ki}},Vi=$i,Ni=Object(a["a"])(Vi,p,f,!1,null,null,null),Li=Ni.exports,qi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-playtest"},[n("game-play")],1)},Ii=[],Ri=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-play"},[n("game-play-grid",{on:{"piece-viewed":function(t){return e.changeViewedPiece(t)}}}),n("game-play-sidebar",{attrs:{viewedPiece:e.viewedPiece}})],1)},Di=[],Fi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-play-grid"},[n("div",{class:"game-play-grid-container "+e.containerClassByDimensions,style:e.containerCSSVars},e._l(e.tilesLinearised,(function(t,r){return n("game-play-grid-tile",{key:r,attrs:{tile:t},on:{"tile-clicked":function(t){return e.tileClicked(t)},"piece-clicked":function(t){return e.pieceClicked(t)},"piece-viewed":function(t){return e.pieceViewed(t)}}})})),1)])},Bi=[];n("0481"),n("4069");function Ui(e,t,n){var r;return function(){var i=this,c=arguments,a=function(){r=null,n||e.apply(i,c)},o=n&&!r;clearTimeout(r),r=setTimeout(a,t),o&&e.apply(i,c)}}var Hi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-play-grid-tile",on:{mousedown:e.clicked}},[e.tile.Content?n("game-play-grid-tile-piece",{attrs:{piece:e.tile.Content},on:{"piece-clicked":function(t){return e.pieceClicked(t)},"piece-viewed":function(t){return e.pieceViewed(t)}}}):e._e()],1)},Mi=[],Wi=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"game-play-grid-tile-piece"},[r("img",{staticClass:"piece-image",attrs:{src:n("67f7")("./"+e.piece.icon)},on:{mousedown:e.clicked,mouseenter:e.viewed,mouseleave:e.stopViewed}})])},Qi=[],Yi={name:"GamePlayGridTilePiece",props:{piece:{type:Object,required:!0}},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console}))},methods:{clicked:function(){this.$emit("piece-clicked",this.piece)},viewed:function(){this.$emit("piece-viewed",this.piece)},stopViewed:function(){this.$emit("piece-viewed",null)}}},Xi=Yi,zi=(n("fe9a"),Object(a["a"])(Xi,Wi,Qi,!1,null,"ac75889a",null)),Ki=zi.exports,Ji={name:"GamePlayGridTile",components:{GamePlayGridTilePiece:Ki},props:{tile:{type:Object,required:!0}},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console}))},methods:{clicked:function(){this.$emit("tile-clicked",this.tile)},pieceClicked:function(e){this.$emit("piece-clicked",e)},pieceViewed:function(e){this.$emit("piece-viewed",e)}}},Zi=Ji,ec=(n("bd4e"),Object(a["a"])(Zi,Hi,Mi,!1,null,"e695175a",null)),tc=ec.exports,nc={name:"GamePlayGrid",components:{GamePlayGridTile:tc},data:function(){return{parentWidth:null,parentHeight:null}},mounted:function(){this.updateParentDimensions(),window.addEventListener("resize",Ui(this.updateParentDimensions,50))},destroyed:function(){window.removeEventListener("resize",Ui(this.updateParentDimensions,50))},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),tiles:function(){return this.$store.state.gamePlay.grid.tiles},gridRows:function(){return this.$store.state.gameSpec.grid.height},gridCols:function(){return this.$store.state.gameSpec.grid.width},tilesLinearised:function(){return this.tiles.flat()},containerClassByDimensions:function(){var e=this.parentWidth/this.parentHeight,t=this.gridCols/this.gridRows;return e>t?"height-restricted":"width-restricted"},containerCSSVars:function(){return{"--grid-rows":this.gridRows,"--grid-cols":this.gridCols,"--parent-width":this.parentWidth+"px","--parent-height":this.parentHeight+"px"}}},methods:{tileClicked:function(e){this.$store.dispatch("tileSelected",e)},pieceClicked:function(e){this.$store.dispatch("pieceSelected",e)},pieceViewed:function(e){this.$emit("piece-viewed",e)},updateParentDimensions:function(){var e=this.$el.getBoundingClientRect(),t=e.width,n=e.height;this.parentWidth=t,this.parentHeight=n}}},rc=nc,ic=(n("0f30"),Object(a["a"])(rc,Fi,Bi,!1,null,"3a6dcd66",null)),cc=ic.exports,ac=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-play-sidebar"},[n("game-play-sidebar-player"),n("game-play-sidebar-game-attr"),e.viewedPiece?n("game-play-sidebar-viewed-piece",{attrs:{viewedPiece:e.viewedPiece}}):e._e()],1)},oc=[],sc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-play-sidebar-player"},[n("h3",{staticClass:"sidebar-player-name"},[e._v(e._s(e.currentPlayerName))]),n("ul",e._l(e.currentPlayerAttributes,(function(t){var r=t.attributeName,i=t.attributeValue,c=t.attributeType;return n("li",{key:r,staticClass:"sidebar-player-attribute"},[n("span",{staticClass:"sidebar-player-attribute-name  keep-whitespace"},[e._v(e._s(r)+": ")]),"player"===c?n("game-play-short-display-player",{staticClass:"sidebar-player-attribute-value",attrs:{player:i}}):"tile"===c?n("game-play-short-display-tile",{staticClass:"sidebar-player-attribute-value",attrs:{tile:i}}):"piece"===c?n("game-play-short-display-piece",{staticClass:"sidebar-player-attribute-value",attrs:{piece:i}}):n("span",{staticClass:"sidebar-player-attribute-value  keep-whitespace"},[e._v(e._s(i))])],1)})),0)])},uc=[],lc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-play-short-display-player"},[n("span",{staticClass:"keep-whitespace"},[e._v("Player "+e._s(e.player.playerNumber))])])},pc=[],fc={name:"GamePlayShortDisplayPlayer",props:{player:{type:Object,required:!0}},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console}))}},mc=fc,hc=(n("6732"),Object(a["a"])(mc,lc,pc,!1,null,"261c8713",null)),dc=hc.exports,gc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-play-short-display-tile"},[n("span",{staticClass:"keep-whitespace"},[e._v("Tile at row "+e._s(e.tile.Row)+", column "+e._s(e.tile.Column))])])},bc=[],yc={name:"GamePlayShortDisplayTile",props:{tile:{type:Object,required:!0}},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console}))}},vc=yc,Sc=(n("a01e"),Object(a["a"])(vc,gc,bc,!1,null,"0697640f",null)),Cc=Sc.exports,_c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"game-play-short-display-piece"},[r("img",{attrs:{src:n("67f7")("./"+e.piece.icon)}}),r("span",{staticClass:"keep-whitespace"},[e._v(e._s(e.piece.pieceTypeName))])])},Oc=[],wc={name:"GamePlayShortDisplayPiece",props:{piece:{type:Object,required:!0}},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console}))}},Ac=wc,Pc=(n("53a0"),Object(a["a"])(Ac,_c,Oc,!1,null,"5eade8e3",null)),Ec=Pc.exports,Tc={name:"GamePlaySidebarPlayer",components:{GamePlayShortDisplayPlayer:dc,GamePlayShortDisplayTile:Cc,GamePlayShortDisplayPiece:Ec},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),currentPlayer:function(){return this.$store.state.gamePlay.gameAttributes["Current Player"]},currentPlayerName:function(){return this.currentPlayer?"Player "+this.currentPlayer.playerNumber:"Current Player Unknown"},currentPlayerAttributes:function(){var e=[];for(var t in this.currentPlayer)if("playerNumber"!==t){var n=this.currentPlayer[t];void 0===n&&(n="unspecified"),null===n&&(n="none");var r=Object(E["a"])(n);if("object"===r)if("playerNumber"in n)r="player";else if("Row"in n&&"Column"in n)r="tile";else{if(!("pieceTypeName"in n)||!("icon"in n))throw new Error("Unknown gameplay attribute "+n);r="piece"}e.push({attributeName:t,attributeValue:n,attributeType:r})}return e}}},xc=Tc,jc=(n("dcea"),Object(a["a"])(xc,sc,uc,!1,null,"87ef4dde",null)),Gc=jc.exports,kc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game-play-sidebar-game-attr"},[n("h3",[e._v("Current game state")]),n("ul",e._l(e.currentGameAttributes,(function(t){var r=t.attributeName,i=t.attributeValue,c=t.attributeType;return n("li",{key:r,staticClass:"sidebar-game-attr-attribute"},[n("span",{staticClass:"sidebar-game-attr-attribute-name  keep-whitespace"},[e._v(e._s(r)+": ")]),"player"===c?n("game-play-short-display-player",{staticClass:"sidebar-game-attr-attribute-value",attrs:{player:i}}):"tile"===c?n("game-play-short-display-tile",{staticClass:"sidebar-game-attr-attribute-value",attrs:{tile:i}}):"piece"===c?n("game-play-short-display-piece",{staticClass:"sidebar-game-attr-attribute-value",attrs:{piece:i}}):n("span",{staticClass:"sidebar-game-attr-attribute-value  keep-whitespace"},[e._v(e._s(i))])],1)})),0)])},$c=[],Vc={name:"GamePlaySidebarGameAttr",components:{GamePlayShortDisplayPlayer:dc,GamePlayShortDisplayTile:Cc,GamePlayShortDisplayPiece:Ec},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),currentGameAttributes:function(){var e=[];for(var t in this.$store.state.gamePlay.gameAttributes)if("Current Player"!==t){var n=this.$store.state.gamePlay.gameAttributes[t];void 0===n&&(n="unspecified"),null===n&&(n="none");var r=Object(E["a"])(n);if("object"===r)if("playerNumber"in n)r="player";else if("Row"in n&&"Column"in n)r="tile";else{if(!("pieceTypeName"in n)||!("icon"in n))throw new Error("Unknown gameplay attribute "+n);r="piece"}e.push({attributeName:t,attributeValue:n,attributeType:r})}return e}}},Nc=Vc,Lc=(n("ccbc"),Object(a["a"])(Nc,kc,$c,!1,null,"7ceb23b6",null)),qc=Lc.exports,Ic=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"game-play-sidebar-viewed-piece"},[r("h3",{staticClass:"sidebar-piece-name"},[r("img",{staticClass:"sidebar-piece-icon",attrs:{src:n("67f7")("./"+e.viewedPiece.icon)}}),e._v(" "+e._s(e.viewedPiece.pieceTypeName)+" ")]),r("ul",e._l(e.viewedPieceAttributes,(function(t){var n=t.attributeName,i=t.attributeValue,c=t.attributeType;return r("li",{key:n,staticClass:"sidebar-piece-attribute"},[r("span",{staticClass:"sidebar-piece-attribute-name  keep-whitespace"},[e._v(e._s(n)+": ")]),"player"===c?r("game-play-short-display-player",{staticClass:"sidebar-piece-attribute-value",attrs:{player:i}}):"tile"===c?r("game-play-short-display-tile",{staticClass:"sidebar-piece-attribute-value",attrs:{tile:i}}):"piece"===c?r("game-play-short-display-piece",{staticClass:"sidebar-piece-attribute-value",attrs:{piece:i}}):r("span",{staticClass:"sidebar-piece-attribute-value  keep-whitespace"},[e._v(e._s(i))])],1)})),0)])},Rc=[],Dc={name:"GamePlaySidebarViewedPiece",props:{viewedPiece:{type:Object,required:!0}},components:{GamePlayShortDisplayPlayer:dc,GamePlayShortDisplayTile:Cc,GamePlayShortDisplayPiece:Ec},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console})),viewedPieceAttributes:function(){var e=[];for(var t in this.viewedPiece)if(!["id","pieceTypeName","icon"].includes(t)){var n=this.viewedPiece[t];void 0===n&&(n="unspecified"),null===n&&(n="none");var r=Object(E["a"])(n);if("object"===r)if("playerNumber"in n)r="player";else if("Row"in n&&"Column"in n)r="tile";else{if(!("pieceTypeName"in n)||!("icon"in n))throw new Error("Unknown gameplay attribute "+n);r="piece"}e.push({attributeName:t,attributeValue:n,attributeType:r})}return e}}},Fc=Dc,Bc=(n("ee14"),Object(a["a"])(Fc,Ic,Rc,!1,null,"4dd4bdd0",null)),Uc=Bc.exports,Hc={name:"GamePlaySidebar",props:{viewedPiece:{type:Object,required:!1}},components:{GamePlaySidebarPlayer:Gc,GamePlaySidebarGameAttr:qc,GamePlaySidebarViewedPiece:Uc},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console}))}},Mc=Hc,Wc=(n("701d"),Object(a["a"])(Mc,ac,oc,!1,null,"d9fd47f6",null)),Qc=Wc.exports,Yc={name:"GamePlay",beforeCreate:function(){this.$store.commit("gamePlaySet"),this.$store.dispatch("gameStart")},destroyed:function(){this.$store.commit("gamePlayReset")},components:{GamePlayGrid:cc,GamePlaySidebar:Qc},data:function(){return{viewedPiece:null}},computed:{console:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return console}))},methods:{changeViewedPiece:function(e){this.viewedPiece=e}}},Xc=Yc,zc=(n("9786"),Object(a["a"])(Xc,Ri,Di,!1,null,"eacf8e52",null)),Kc=zc.exports,Jc={name:"GamePlaytest",components:{GamePlay:Kc}},Zc=Jc,ea=(n("2b59"),Object(a["a"])(Zc,qi,Ii,!1,null,"769578dc",null)),ta=ea.exports,na=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"test-view"},[n("h1",[e._v("Hello! This is a test view, your component goes below:")]),n("GameSpec")],1)},ra=[],ia={name:"TestView",components:{GameSpec:ki}},ca=ia,aa=Object(a["a"])(ca,na,ra,!1,null,null,null),oa=aa.exports;r["a"].use(l["a"]);var sa=[{path:"/specify",name:"Game Specification",component:Li,alias:"/"},{path:"/playtest",name:"Game Playtesting",component:ta},{path:"/test-view",name:"Test",component:oa}],ua=new l["a"]({routes:sa}),la=ua,pa=(n("c740"),n("a434"),n("ac1f"),n("466d"),n("2909")),fa=n("2f62"),ma=function(){function e(t,n){Object(xe["a"])(this,e),this._trigger=t,this._effect=n}return Object(je["a"])(e,[{key:"trigger",set:function(e){if(!Pe.allValues.includes(e))throw new Error("not a valid trigger");this._trigger=e},get:function(){return this._trigger}},{key:"effect",set:function(e){this._effect=e},get:function(){return this._effect}}]),e}();r["a"].use(fa["a"]);var ha=new fa["a"].Store({state:{gameSpec:{players:{number:2,attributes:[new Xe("Next Player",x.PLAYER,!1)]},grid:{height:3,width:3,attributes:[new Xe("Row",x.NUMBER,!1),new Xe("Column",x.NUMBER,!1),new Xe("Content",x.PIECE,!1)]},pieces:[],gameAttributes:[new Xe("Current Player",x.PLAYER,!1)],rules:[]},gamePlay:{players:[],grid:{tiles:[]},nextPieceId:0,pieces:[],gameAttributes:{}}},mutations:{setPlayerCount:function(e,t){e.gameSpec.players.number=t},addPlayerAttribute:function(e){da(e.gameSpec.players.attributes)},alterPlayerAttribute:function(e,t){var n=t.attributeName,r=t.propertyName,i=t.newValue;ga(e.gameSpec.players.attributes,n,r,i)},removePlayerAttribute:function(e,t){ba(e.gameSpec.players.attributes,t)},setGridHeight:function(e,t){e.gameSpec.grid.height=t},setGridWidth:function(e,t){e.gameSpec.grid.width=t},addTileAttribute:function(e){da(e.gameSpec.grid.attributes)},alterTileAttribute:function(e,t){var n=t.attributeName,r=t.propertyName,i=t.newValue;ga(e.gameSpec.grid.attributes,n,r,i)},removeTileAttribute:function(e,t){ba(e.gameSpec.grid.attributes,t)},addPiece:function(e){var t=ya(e.gameSpec.pieces.map((function(e){return e.name})),"New Piece"),n="New Piece "+t;e.gameSpec.pieces.push({name:n,icon:"circle.png",attributes:[new Xe("Owner",x.PLAYER,!1),new Xe("Position",x.TILE,!1)]})},alterPieceName:function(e,t){var n=t.pieceName,r=t.newName,i=e.gameSpec.pieces.findIndex((function(e){return e.name===n}));e.gameSpec.pieces[i].name=r},alterPieceIcon:function(e,t){var n=t.pieceName,r=t.newIcon,i=e.gameSpec.pieces.findIndex((function(e){return e.name===n}));e.gameSpec.pieces[i].icon=r},alterPieceAddAttribute:function(e,t){var n=e.gameSpec.pieces.findIndex((function(e){return e.name===t})),r=e.gameSpec.pieces[n].attributes;da(r)},alterPieceAlterAttribute:function(e,t){var n=t.pieceName,r=t.attributeName,i=t.propertyName,c=t.newValue,a=e.gameSpec.pieces.findIndex((function(e){return e.name===n})),o=e.gameSpec.pieces[a].attributes;ga(o,r,i,c)},alterPieceRemoveAttribute:function(e,t){var n=t.pieceName,r=t.attributeName,i=e.gameSpec.pieces.findIndex((function(e){return e.name===n})),c=e.gameSpec.pieces[i].attributes;ba(c,r)},removePiece:function(e,t){var n=e.gameSpec.pieces.findIndex((function(e){return e.name===t}));e.gameSpec.pieces.splice(n,1)},addGameAttribute:function(e){da(e.gameSpec.gameAttributes)},alterGameAttribute:function(e,t){var n=t.attributeName,r=t.propertyName,i=t.newValue;ga(e.gameSpec.gameAttributes,n,r,i)},removeGameAttribute:function(e,t){ba(e.gameSpec.gameAttributes,t)},addRule:function(e){e.gameSpec.rules.push(new ma)},alterRule:function(e,t){var n=t.index,r=t.propertyName,i=t.newValue;e.gameSpec.rules[n][r]=i},removeRule:function(e,t){e.gameSpec.rules.splice(t,1)},gamePlayReset:function(e){e.gamePlay={players:[],grid:{tiles:[]},nextPieceId:0,pieces:[],gameAttributes:{}}},gamePlaySet:function(e){for(var t=function(t){var n={};e.gameSpec.players.attributes.forEach((function(e){r["a"].set(n,e.name,void 0)})),r["a"].set(n,"playerNumber",t+1),e.gamePlay.players.push(n)},n=0;n<e.gameSpec.players.number;n++)t(n);for(var i=0;i<e.gameSpec.grid.height;i++){e.gamePlay.grid.tiles.push([]);for(var c=function(t){var n={};e.gameSpec.grid.attributes.forEach((function(e){r["a"].set(n,e.name,void 0)})),n.Row=i,n.Column=t,n.Content=null,e.gamePlay.grid.tiles[i].push(n)},a=0;a<e.gameSpec.grid.width;a++)c(a)}e.gameSpec.gameAttributes.forEach((function(t){r["a"].set(e.gamePlay.gameAttributes,t.name,void 0)}))},setAttributeValue:function(e,t){var n=t.attributeName,r=t.objectFromState,i=t.valueFromState,c=r(e.gamePlay),a=i(e.gamePlay);c[n]=a},createPiece:function(e,t){var n=t.pieceName,i=t.tileFromState,c=t.ownerFromState,a={},o=e.gameSpec.pieces.find((function(e){return e.name===n}));r["a"].set(a,"id",e.gamePlay.nextPieceId++),r["a"].set(a,"icon",o.icon),r["a"].set(a,"pieceTypeName",o.name),o.attributes.forEach((function(e){r["a"].set(a,e.name,void 0)})),a.Position=i(e.gamePlay),a.Owner=c(e.gamePlay),e.gamePlay.pieces.push(a),a.Position.Content=a}},actions:{trigger:function(e,t){var n=e.state,r=e.dispatch,i=e.getters,c=t.triggerType,a=t.triggerArgs;i.rulesByTrigger(c).forEach((function(e){e.effect.execute(n.gamePlay,r,a)}))},gameStart:function(e){var t=e.dispatch;t("trigger",{triggerType:Pe.GAME_START})},tileSelected:function(e,t){var n=e.dispatch;n("trigger",{triggerType:Pe.TILE_SELECTED,triggerArgs:t})},pieceSelected:function(e,t){var n=e.dispatch;n("trigger",{triggerType:Pe.PIECE_SELECTED,triggerArgs:t})},setAttributeValue:function(e,t){var n=e.commit,r=t.attributeName,i=t.objectFromState,c=t.valueFromState;n("setAttributeValue",{attributeName:r,objectFromState:i,valueFromState:c})},createPiece:function(e,t){var n=e.commit,r=t.pieceName,i=t.tileFromState,c=t.ownerFromState;n("createPiece",{pieceName:r,tileFromState:i,ownerFromState:c})},endGame:function(e,t){var n=e.commit,r=e.dispatch,i=e.state,c=t.winnerFromState,a=c(i.gamePlay);alert("Player "+a.playerNumber+" has won the game!"),n("gamePlayReset"),n("gamePlaySet"),r("gameStart")}},getters:{rulesByTrigger:function(e){return function(t){return e.gameSpec.rules.filter((function(e){return e.trigger===t}))}}},modules:{}});function da(e){var t=ya(e.map((function(e){return e.name})),"New Attribute"),n="New Attribute "+t;e.push(new Xe(n))}function ga(e,t,n,r){var i=e.find((function(e){return e.name===t}));i[n]=r}function ba(e,t){var n=e.findIndex((function(e){return e.name===t}));e.splice(n,1)}function ya(e,t){var n=e.filter((function(e){return!!e.match(t)})),r=n.map((function(e){return parseInt(e.substring(t.length))})).filter((function(e){return!isNaN(e)}));return 0===r.length?1:Math.max.apply(Math,Object(pa["a"])(r))+1}n("6dfc");r["a"].config.productionTip=!1,r["a"].component("v-select",G.a),new r["a"]({router:la,store:ha,render:function(e){return e(u)}}).$mount("#app")},5997:function(e,t,n){},"59a0":function(e,t,n){"use strict";var r=n("6169"),i=n.n(r);i.a},6169:function(e,t,n){},"63d9":function(e,t,n){"use strict";var r=n("0b8d"),i=n.n(r);i.a},"64c9":function(e,t,n){},6732:function(e,t,n){"use strict";var r=n("f285"),i=n.n(r);i.a},"67f7":function(e,t,n){var r={"./":"088c","./circle.png":"ed7f","./cross.png":"c087","./index":"088c","./index.js":"088c"};function i(e){var t=c(e);return n(t)}function c(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=c,e.exports=i,i.id="67f7"},"701d":function(e,t,n){"use strict";var r=n("d669"),i=n.n(r);i.a},7221:function(e,t,n){},"73ef":function(e,t,n){},"85ec":function(e,t,n){},"8ca7":function(e,t,n){},9786:function(e,t,n){"use strict";var r=n("e394"),i=n.n(r);i.a},a01e:function(e,t,n){"use strict";var r=n("cdd9"),i=n.n(r);i.a},a763:function(e,t,n){"use strict";var r=n("4063"),i=n.n(r);i.a},a8b4:function(e,t,n){"use strict";var r=n("325c"),i=n.n(r);i.a},b397:function(e,t,n){"use strict";var r=n("0179"),i=n.n(r);i.a},b3ac:function(e,t,n){},bd4e:function(e,t,n){"use strict";var r=n("8ca7"),i=n.n(r);i.a},c055:function(e,t,n){},c087:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABA0lEQVRYR82X0Q7CMAhF3f9/tGaLXboK3IMt2XzTwL2nQFPcXjd/tq//u+Nov1WhXbwsgN24CqI3P3w8gAqI0fwCsH8xAxb1wdUeS20FzlRD6lm9lkmwKkjHGzaUHIDg/CwAaYdnbuZG1y0SssSy8UcB1X2nojTup2sKwLuecA71IQnADITUlwHGW7Hs9GQGejPV5xEMHQ4FdcoUAuviwGQrsC4OdB6raB6QNgr6w7yBSX0ZkCx9ehAJAB08rx2hhwJQ5tFG1QO5Po99jFJP6lD7VG52H1AtayxTCwlOFo8C0nnUUnrrWl5pHs2F+8+IDltmN7AWGxOgytyqxAmQPcmy+A91SjIh2Tu2rQAAAABJRU5ErkJgggAA"},ccbc:function(e,t,n){"use strict";var r=n("dfdc"),i=n.n(r);i.a},cdd9:function(e,t,n){},d1cf:function(e,t,n){},d3d5:function(e,t,n){"use strict";var r=n("c055"),i=n.n(r);i.a},d669:function(e,t,n){},dcea:function(e,t,n){"use strict";var r=n("29ec"),i=n.n(r);i.a},de19:function(e,t,n){"use strict";var r=n("64c9"),i=n.n(r);i.a},dfdc:function(e,t,n){},e0d3:function(e,t,n){"use strict";var r=n("e11d"),i=n.n(r);i.a},e11d:function(e,t,n){},e394:function(e,t,n){},ed7f:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA/ElEQVRYR+2XyQ3FIAxEQyX0XxaV5CtIQV6wh+UrcCBn8DyPDTjh6v9usCX0hGxdjEQtTRgfLRgVlkCmjgdwxxivlFKPo2otiVHVsgBY5iMgxh6lVwPI4o5od9lELLZfBlPiyEKnPqyEFgQF8GqOsrY4VBPLhBgAjTKRuYSxEsvaL0Ah9eo1cRysvgoKgIiM2t5cjseALQBqt92/s39dUVqP0AE4DhwHljvwnNEvIKoaW9yEzIFVj5Eqw9fPcQaYGMOaX0BvICkuUJAJJ7pHMvZiTbjhjWF0CMp6W47lxYmR/wHZDKiEaPBY+mtGkxkFQQmaPeANwAgGitLgP+WxlhmNBP5VAAAAAElFTkSuQmCC"},ee14:function(e,t,n){"use strict";var r=n("b3ac"),i=n.n(r);i.a},f285:function(e,t,n){},fb50:function(e,t,n){"use strict";var r=n("73ef"),i=n.n(r);i.a},fca0:function(e,t,n){},fe9a:function(e,t,n){"use strict";var r=n("fca0"),i=n.n(r);i.a}});
//# sourceMappingURL=app.c8f7e073.js.map